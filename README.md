El siguiente archivo explica como generar un archivo csv desde php con ayuda de la libreria http://csv.thephpleague.com/
